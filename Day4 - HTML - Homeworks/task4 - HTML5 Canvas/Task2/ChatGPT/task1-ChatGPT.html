<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Drawing App</title>
    <style>
        canvas {
            border: 1px solid black; /* Add a border to the canvas */
            cursor: crosshair; /* Change cursor to crosshair for drawing */
        }
        #controls {
            margin: 10px 0; /* Add some space above the controls */
        }
    </style>
</head>
<body>
    <div id="controls">
        <button id="clear">Clear Canvas</button>
        <label for="color">Choose Color:</label>
        <input type="color" id="color" value="#000000">
    </div>
    <canvas id="myCanvas" width="600" height="400"></canvas>

    <script>
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');

        let painting = false; // Track if the user is currently painting
        let lastX = 0; // Store the last X coordinate
        let lastY = 0; // Store the last Y coordinate
        const colorInput = document.getElementById('color');

        // Start painting
        function startPosition(e) {
            painting = true;
            [lastX, lastY] = [e.offsetX, e.offsetY]; // Set the last position to the current mouse position
        }

        // End painting
        function endPosition() {
            painting = false;
            ctx.beginPath(); // Start a new path to prevent connecting lines when mouse is released
        }

        // Draw on the canvas
        function draw(e) {
            if (!painting) return; // Only draw if the user is currently painting

            ctx.strokeStyle = colorInput.value; // Set the stroke color to the selected color
            ctx.lineWidth = 5; // Set the line width
            ctx.lineCap = 'round'; // Round the ends of the line
            ctx.beginPath(); // Start a new path
            ctx.moveTo(lastX, lastY); // Move to the last position
            ctx.lineTo(e.offsetX, e.offsetY); // Draw a line to the current mouse position
            ctx.stroke(); // Render the line
            [lastX, lastY] = [e.offsetX, e.offsetY]; // Update the last position
        }

        // Clear the canvas
        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear the entire canvas
        }

        // Event listeners for mouse events
        canvas.addEventListener('mousedown', startPosition);
        canvas.addEventListener('mouseup', endPosition);
        canvas.addEventListener('mousemove', draw);

        // Event listener for the clear button
        document.getElementById('clear').addEventListener('click', clearCanvas);
    </script>
</body>
</html>
